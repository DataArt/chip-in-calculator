<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../cic-router/element.html">
<link rel="import" href="../../../bower_components/i18n-msg/i18n-msg-behavior.html">

<dom-module id="cic-result">
    <link rel="import" type="css" href="style.css">
    <template>

        <cic-router id="router"></cic-router>

        <p class="centered">
            [[i18n.total]]&nbsp;=&nbsp;{{_getValue(result.totalValue,1)}}
            [[i18n.average]]&nbsp;=&nbsp;{{_getValue(result.equalPayment,1)}}
        </p>

        <template is="dom-repeat" items="[[result.values]]">
            <p class="centered">
                <strong>[[_getNameFrom(item.from)]]</strong>&nbsp;[[i18n.gives]]&nbsp;<strong>[[_getValue(item.value)]]</strong>&nbsp;[[i18n.to]]&nbsp;<strong>[[_getNameTo(item.to)]]</strong>
            </p>
        </template>

        <div class="centered link">
            [[i18n.results_link]]&nbsp;<a href="{{link}}" target="_blank">{{_getLinkLabel(link)}}</a>
        </div>

        <div class="centered okay">
            <paper-button id="ok-button" raised autofocus on-click="_onClick">
                OK
                <cic-spinner id="spinner"></cic-spinner>
            </paper-button>
        </div>

    </template>
</dom-module>

<script src="script.js"></script>
